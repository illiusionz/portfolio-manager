"use strict";(self.webpackChunkfinance_app=self.webpackChunkfinance_app||[]).push([[938],{17938:(s,e,t)=>{t.r(e),t.d(e,{default:()=>h});var c=t(65043),a=t(83003),d=t(73051),l=t(86213),r=t(83910),i=t(97929),n=t(70579);const h=()=>{const s=(0,a.wA)(),e=(0,a.d4)((s=>s.watchlist.symbols)),[t,h]=(0,c.useState)({}),[o,x]=(0,c.useState)(!1),[j,p]=(0,c.useState)(null),k=(0,a.d4)((s=>s.theme));(0,c.useEffect)((()=>{if(e.length>0){x(!0);const s=async()=>{await Promise.all(e.map((s=>(async s=>{try{const e=`https://api.polygon.io/v2/snapshot/locale/us/markets/stocks/tickers/${s}?apiKey=oRw9ebHARHpYDonYIt4VNoYoOPhplFBV`,t=await l.A.get(e);h((e=>({...e,[s]:t.data.ticker})))}catch(j){console.error("Error fetching stock data:",j),p("Failed to fetch stock data.")}})(s)))),x(!1)};s()}}),[e]);return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h5",{className:"card-title mb-0",children:"Stock Watchlist"})}),(0,n.jsxs)("div",{className:"card-body",children:[j&&(0,n.jsx)("div",{className:"error",children:j}),o?(0,n.jsx)("p",{children:"Loading data..."}):0===e.length?(0,n.jsx)("p",{children:"No stocks in watchlist"}):(0,n.jsxs)("table",{className:"table table-striped mt-3 "+("dark"===k?"table-dark":""),children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Symbol"}),(0,n.jsx)("th",{children:"Last"}),(0,n.jsx)("th",{children:"Chg"}),(0,n.jsx)("th",{children:"Chg%"}),(0,n.jsx)("th",{children:"Vol"}),(0,n.jsx)("th",{})]})}),(0,n.jsx)("tbody",{children:e.map((e=>{const c=t[e]||{},{day:a,prevDay:l}=c,h=a?a.c:"",o=h&&l?(h-l.c).toFixed(2):"",x=o&&l?(o/l.c*100).toFixed(2):"",j=a?a.v:"";return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e}),(0,n.jsx)("td",{children:h}),(0,n.jsx)("td",{children:o}),(0,n.jsxs)("td",{children:[x,"%"]}),(0,n.jsx)("td",{children:j}),(0,n.jsx)("td",{children:(0,n.jsx)(r.g,{icon:i.yLS,onClick:()=>(e=>{s((0,d.Qv)(e))})(e)})})]},e)}))})]})]})]})}}}]);
//# sourceMappingURL=938.ad281a92.chunk.js.map