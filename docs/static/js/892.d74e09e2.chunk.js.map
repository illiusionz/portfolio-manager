{"version":3,"file":"static/js/892.d74e09e2.chunk.js","mappings":"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","sources":["features/news/newsSelectors.js","features/stocks/stockSelectors.js","features/user/userThunks.js","components/TradingViewWidget.js","pages/HomePage/HomePage.js"],"sourcesContent":["// src/features/news/newsSelectors.js\nexport const selectNewsArticles = (state) => state.news.articles;\nexport const selectNewsLoading = (state) => state.news.loading;\nexport const selectNewsError = (state) => state.news.error;\n","// src/features/stocks/stockSelectors.js\nimport { createSelector } from 'reselect';\n\n// Base selector to get the entire stocks state\nexport const selectStockState = (state) => state.stocks;\n\n// Memoized selector to get all stocks data as a dictionary with tickers as keys\nexport const selectAllStockSnapshots = createSelector(\n  [selectStockState],\n  (stocks) => stocks.stockTickerData || {}\n);\n\n// Select symbols for the Trending Toolbar\nexport const selectTrendingToolbarSymbols = createSelector(\n  [selectStockState],\n  (stocks) => stocks.trendingToolbarSymbols || []\n);\n\n// Select symbols for the Index Toolbar\nexport const selectIndexToolbarSymbols = createSelector(\n  [selectStockState],\n  (stocks) => stocks.indexToolbarSymbols || []\n);\n\n// Selector to get detailed stock information\nexport const selectStockDetails = createSelector(\n  [selectStockState, (_, symbol) => symbol],\n  (stocks, symbol) => stocks.stockDetails[symbol] || {}\n);\n\n// Memoized selector to get the full response data of a specific stock ticker\nexport const selectStockSnapshot = createSelector(\n  [selectStockState, (_, ticker) => ticker],\n  (stocks, ticker) => stocks.stockTickerData[ticker] || {}\n);\n\n// Memoized selector to get the stock price using the stock snapshot selector\nexport const selectStockPrice = createSelector(\n  [selectStockSnapshot],\n  (stockSnapshot) => stockSnapshot?.prevDay?.c ?? 0\n);\n\n// Memoized selector to get the 'prevDay' closing price ('c') for a given symbol\nexport const selectPrevDayClosingPrice = createSelector(\n  [selectStockSnapshot],\n  (stockSnapshot) => stockSnapshot?.prevDay?.c ?? null\n);\n\n// Memoized selector to get a specific field of a stock's data\nexport const selectStockField = createSelector(\n  [selectStockSnapshot, (_, field) => field],\n  (stockSnapshot, field) => (stockSnapshot ? stockSnapshot[field] : null)\n);\n\n// Selector to get any error in the stocks slice\nexport const selectStockError = createSelector(\n  [selectStockState],\n  (stocks) => stocks.error\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { setUserSymbol } from './userSlice';\nimport { fetchStockSnapshot } from '../stocks/stockThunks';\nimport { fetchNews } from '../news/newsThunks';\nimport { fetchWatchlistData } from '../watchlist/watchlistThunks';\n\nexport const setSymbolAndFetchData = createAsyncThunk(\n  'user/setSymbolAndFetchData',\n  async (symbol, { dispatch }) => {\n    dispatch(setUserSymbol(symbol));\n    await dispatch(fetchStockSnapshot(symbol));\n    await dispatch(fetchNews(symbol));\n    await dispatch(fetchWatchlistData([symbol]));\n  }\n);\n","import React, { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\n\nfunction TradingViewWidget({ symbol }) {\n  const container = useRef();\n  const theme = useSelector((state) => state.theme || 'light');\n  const widgetInitialized = useRef(false); // Track widget initialization\n\n  useEffect(() => {\n    const initializeWidget = () => {\n      if (!symbol) {\n        console.error('Invalid or missing symbol for TradingView widget');\n        return;\n      }\n\n      if (!container.current) {\n        console.error('Container for TradingView widget is not available');\n        return;\n      }\n\n      // Prevent reinitialization if the widget is already initialized\n      if (widgetInitialized.current) {\n        console.log('Widget already initialized');\n        return;\n      }\n\n      container.current.innerHTML = ''; // Clear previous widget content\n\n      const script = document.createElement('script');\n      script.src =\n        'https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js';\n      script.type = 'text/javascript';\n      script.async = true;\n      script.innerHTML = JSON.stringify({\n        autosize: true,\n        symbol: symbol,\n        interval: 'D',\n        timezone: 'exchange',\n        theme: theme,\n        style: '1',\n        locale: 'en',\n        toolbar_bg: '#f1f3f6',\n        enable_publishing: false,\n        withdateranges: true,\n        hide_side_toolbar: false,\n        allow_symbol_change: true,\n        show_popup_button: true,\n        popup_width: '1000',\n        popup_height: '650',\n      });\n\n      container.current.appendChild(script);\n      widgetInitialized.current = true; // Mark the widget as initialized\n      console.log('Widget initialized successfully');\n    };\n\n    setTimeout(() => {\n      initializeWidget(); // Add a delay to ensure the DOM is ready\n    }, 100); // Reduce the delay to 500ms or adjust as needed\n\n    return () => {\n      if (container.current) {\n        container.current.innerHTML = ''; // Cleanup previous widget content on unmount\n        widgetInitialized.current = false; // Reset initialization status\n        console.log('Cleaning up widget');\n      }\n    };\n  }, [symbol, theme]); // Reinitialize when symbol or theme changes\n\n  return (\n    <div\n      className='tradingview-widget-container'\n      ref={container}\n      style={{ height: '500px', width: '100%' }}>\n      <div\n        className='tradingview-widget-container__widget'\n        style={{ height: '100%', width: '100%' }}></div>\n    </div>\n  );\n}\n\nexport default React.memo(TradingViewWidget);\n","import React, { useEffect, Suspense, lazy, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setSymbolAndFetchData } from '../../features/user/userThunks'; // Unified thunk to handle symbol changes and fetching data\nimport { fetchStocks } from '../../features/stocks/stockThunks'; // Fetch stock prices\nimport { selectStockError } from '../../features/stocks/stockSelectors'; // Stock selectors\nimport { selectNewsError } from '../../features/news/newsSelectors'; // News selectors\nimport TradingViewWidget from '../../components/TradingViewWidget'; // Remove lazy loading temporarily\n\n// Lazy loading components\nconst CompoundInterestCalculator = lazy(() =>\n  import(\n    '../../components/CompoundInterestCalculator/CompoundInterestCalculator'\n  )\n);\nconst PercentageDifferenceCalculator = lazy(() =>\n  import(\n    '../../components/PercentageDifferenceCalculator/PercentageDifferenceCalculator'\n  )\n);\n\nconst NewsFeed = lazy(() => import('../../components/NewsFeed/NewsFeed'));\nconst OptionPremiumCalculator = lazy(() =>\n  import('../../components/OptionPremiumCalculator/OptionPremiumCalculator')\n);\nconst StockWatchlist = lazy(() =>\n  import('../../components/StockWatchlist/StockWatchlist')\n);\nconst DollarCostAveragingCalculator = lazy(() =>\n  import(\n    '../../components/DollarCostAveragingCalculator/DollarCostAveragingCalculator'\n  )\n);\nconst TopMovers = lazy(() => import('../../components/TopMovers/TopMovers'));\nconst DividendInfo = lazy(() =>\n  import('../../components/DividendInfo/DividendInfo')\n);\nconst MuiCalendar = lazy(() => import('../../components/Calendar/MuiCalendar'));\nconst Calculator = lazy(() => import('../../components/Calculator/Calculator'));\nconst PortfolioValueCard = lazy(() =>\n  import('../../components/PortfolioValueCard/PortfolioValueCard')\n);\n\nconst HomePage = () => {\n  const symbol = useSelector((state) => state.user.userSymbol); // Using symbol from Redux\n  const newsError = useSelector(selectNewsError); // Use news error selector\n  const stockError = useSelector(selectStockError); // Use stock error selector\n  const dispatch = useDispatch();\n\n  const totalValue = 123456.78; // Example total portfolio value\n\n  const [showWidget, setShowWidget] = useState(false);\n  const [isSymbolValid, setIsSymbolValid] = useState(false);\n\n  useEffect(() => {\n    // Fetch initial stock data on page load\n    dispatch(fetchStocks());\n\n    // Handle symbol change and validity\n    if (symbol) {\n      console.log('Dispatching setSymbolAndFetchData for symbol:', symbol);\n      dispatch(setSymbolAndFetchData(symbol));\n      setShowWidget(true);\n      setIsSymbolValid(true);\n    } else {\n      setIsSymbolValid(false);\n      setShowWidget(false);\n    }\n  }, []);\n\n  return (\n    <div className='container-fluid'>\n      <div className='hero-section'>\n        {stockError && (\n          <div className='alert alert-danger'>{stockError.message}</div>\n        )}\n        <div className='stock-data' style={{ height: '600px' }}>\n          {/* Test with a defined height */}\n          {isSymbolValid ? (\n            <Suspense fallback={<div>Loading...</div>}>\n              {showWidget ? (\n                <TradingViewWidget symbol={symbol} />\n              ) : (\n                <div className='spinner-border' role='status'>\n                  <span className='visually-hidden'>Loading...</span>\n                </div>\n              )}\n            </Suspense>\n          ) : (\n            <div>Please select a valid stock symbol.</div>\n          )}\n        </div>\n      </div>\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <div className='row my-2'>\n          <div className='col-md-3'>\n            <PortfolioValueCard totalValue={totalValue} />\n            <TopMovers />\n          </div>\n          <div className='col-md-3'>\n            <DollarCostAveragingCalculator />\n            <StockWatchlist />\n            <MuiCalendar />\n          </div>\n          <div className='col-md-3'>\n            <OptionPremiumCalculator />\n          </div>\n          <div className='col-md-3'>\n            <PercentageDifferenceCalculator />\n            <Calculator />\n          </div>\n        </div>\n\n        <div className='row my-3'>\n          <div className='col-md-9'>\n            <DividendInfo />\n            <CompoundInterestCalculator />\n          </div>\n        </div>\n\n        <div className='row my-3'>\n          <div className='col-md-12'>\n            <h3 className='text-center news-headline'>Related News</h3>\n            {newsError && (\n              <div className='alert alert-danger'>{newsError.message}</div>\n            )}\n            <NewsFeed />\n          </div>\n        </div>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"names":["selectNewsArticles","state","news","articles","selectNewsLoading","loading","selectNewsError","error","selectStockState","stocks","selectAllStockSnapshots","createSelector","stockTickerData","selectTrendingToolbarSymbols","trendingToolbarSymbols","selectIndexToolbarSymbols","indexToolbarSymbols","selectStockDetails","_","symbol","stockDetails","selectStockSnapshot","ticker","selectStockPrice","stockSnapshot","_stockSnapshot$prevDa","_stockSnapshot$prevDa2","prevDay","c","selectStockError","_stockSnapshot$prevDa3","_stockSnapshot$prevDa4","field","setSymbolAndFetchData","createAsyncThunk","async","_ref","dispatch","setUserSymbol","fetchStockSnapshot","fetchNews","fetchWatchlistData","TradingViewWidget","container","useRef","theme","useSelector","widgetInitialized","useEffect","setTimeout","initializeWidget","console","current","log","innerHTML","script","document","createElement","src","type","JSON","stringify","autosize","interval","timezone","style","locale","toolbar_bg","enable_publishing","withdateranges","hide_side_toolbar","allow_symbol_change","show_popup_button","popup_width","popup_height","appendChild","_jsx","className","ref","height","width","children","React","CompoundInterestCalculator","lazy","PercentageDifferenceCalculator","NewsFeed","OptionPremiumCalculator","StockWatchlist","DollarCostAveragingCalculator","TopMovers","DividendInfo","MuiCalendar","Calculator","PortfolioValueCard","HomePage","user","userSymbol","newsError","stockError","useDispatch","showWidget","setShowWidget","useState","isSymbolValid","setIsSymbolValid","fetchStocks","_jsxs","message","Suspense","fallback","role","totalValue"],"sourceRoot":""}