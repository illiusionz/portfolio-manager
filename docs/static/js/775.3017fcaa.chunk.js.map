{"version":3,"file":"static/js/775.3017fcaa.chunk.js","mappings":"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","sources":["features/stocks/stockSelectors.js","components/Portfolio/Portfolio.js","components/StockDetails/StockDetails.js","pages/PortfolioPage/PortfolioPage.js","utils/format.js"],"sourcesContent":["// src/features/stocks/stockSelectors.js\nexport const selectStockData = (state) => state.stocks.data;\nexport const selectStockError = (state) => state.stocks.error;\nexport const selectStockDetails = (state, symbol) =>\n  state.stocks.stockDetails[symbol];\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPortfolio } from '../../features/portfolio/portfolioSlice';\nimport { fetchStockDetails } from '../../features/stocks/stockThunks'; // Import stock details thunk\n\nconst Portfolio = ({ userId }) => {\n  const dispatch = useDispatch();\n  const portfolio = useSelector((state) => state.portfolio.portfolio);\n  const status = useSelector((state) => state.portfolio.status);\n  const error = useSelector((state) => state.portfolio.error);\n\n  // New selector for fetching stock details\n  const stockDetails = useSelector((state) => state.stocks.stockDetails);\n\n  useEffect(() => {\n    if (status === 'idle') {\n      dispatch(fetchPortfolio(userId));\n    }\n  }, [status, dispatch, userId]);\n\n  // Fetch stock details when portfolio is available\n  useEffect(() => {\n    if (portfolio?.stocks) {\n      portfolio.stocks.forEach((stock) => {\n        dispatch(fetchStockDetails(stock.symbol));\n      });\n    }\n  }, [dispatch, portfolio]);\n\n  if (status === 'loading') {\n    return <div>Loading...</div>;\n  }\n\n  if (status === 'failed') {\n    return <div>Error: {error}</div>;\n  }\n\n  if (!portfolio || !portfolio.stocks) {\n    return <div>No portfolio data available</div>;\n  }\n\n  return (\n    <div className='container mt-4'>\n      <h2 className='mb-4'>Stock Portfolio</h2>\n      <table className='table table-striped table-hover'>\n        <thead className='thead-dark'>\n          <tr>\n            <th scope='col'>Holding</th>\n            <th scope='col'>Shares</th>\n            <th scope='col'>Cost per share</th>\n            <th scope='col'>Cost basis</th>\n            <th scope='col'>Current value</th>\n            <th scope='col'>Dividends</th>\n            <th scope='col'>Dividend yield</th>\n            <th scope='col'>Total profit</th>\n            <th scope='col'>Daily</th>\n            <th scope='col'>Logo</th> {/* Added column for Logo */}\n          </tr>\n        </thead>\n        <tbody>\n          {portfolio.stocks.map((stock, index) => {\n            const details = stockDetails[stock.symbol]; // Access the details from state\n            return (\n              <tr key={index}>\n                <td>{stock.symbol}</td>\n                <td>{stock.shares}</td>\n                <td>${stock.buyPrice}</td>\n                <td>${(stock.shares * stock.buyPrice).toFixed(2)}</td>\n                <td>${(stock.shares * stock.currentPrice).toFixed(2)}</td>\n                <td>$0.00</td>\n                <td>0%</td>\n                <td\n                  className={\n                    stock.currentPrice > stock.buyPrice\n                      ? 'text-success'\n                      : 'text-danger'\n                  }>\n                  $\n                  {(\n                    stock.shares *\n                    (stock.currentPrice - stock.buyPrice)\n                  ).toFixed(2)}\n                </td>\n                <td\n                  className={\n                    stock.currentPrice > stock.buyPrice\n                      ? 'text-success'\n                      : 'text-danger'\n                  }>\n                  ${(stock.currentPrice - stock.buyPrice).toFixed(2)}\n                </td>\n                {/* Display logo if available */}\n                <td>\n                  {details?.branding?.logo_url && (\n                    <img\n                      src={details.branding.logo_url}\n                      alt={`${details.name} logo`}\n                      style={{ width: '50px' }}\n                    />\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <p className='mt-4 fw-bold'>Total Value: ${portfolio.totalValue}</p>\n    </div>\n  );\n};\n\nexport default Portfolio;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchStockDetails } from '../../features/stocks/stockThunks';\nimport { selectStockDetails } from '../../features/stocks/stockSelectors';\nimport './StockDetails.scss';\nimport { formatCurrency } from '../../utils/format';\n\nconst StockDetails = ({ symbol }) => {\n  const dispatch = useDispatch();\n  const stockDetails = useSelector((state) =>\n    selectStockDetails(state, symbol)\n  );\n  const loading = useSelector((state) => state.stocks.loading);\n  const error = useSelector((state) => state.stocks.error);\n\n  useEffect(() => {\n    dispatch(fetchStockDetails(symbol));\n  }, [dispatch, symbol]);\n\n  if (loading) return <div className='stock-details'>Loading...</div>;\n  if (error)\n    return <div className='stock-details'>Error fetching stock details</div>;\n  if (!stockDetails)\n    return <div className='stock-details'>No stock details available</div>;\n\n  const {\n    name,\n    description,\n    branding: { icon_url, logo_url } = {},\n    market_cap,\n    phone_number,\n    total_employees,\n    locale,\n    primary_exchange,\n    ticker,\n    sic_description,\n    address1,\n    city,\n    postal_code,\n    state,\n  } = stockDetails;\n\n  return (\n    <div className='stock-details-card'>\n      <div className='stock-header'>\n        <img src={logo_url} alt={`${name} logo`} className='stock-logo' />\n        <h2>{name}</h2>\n      </div>\n      <div className='stock-body'>\n        <div className='stock-info'>\n          <p>\n            <strong>Description:</strong> {description}\n          </p>\n          <p>\n            <strong>Market Cap:</strong> {formatCurrency(market_cap)}\n          </p>\n          <p>\n            <strong>Phone:</strong> {phone_number}\n          </p>\n          <p>\n            <strong>Employees:</strong> {total_employees}\n          </p>\n          <p>\n            <strong>Locale:</strong> {locale}\n          </p>\n          <p>\n            <strong>Primary Exchange:</strong> {primary_exchange}\n          </p>\n          <p>\n            <strong>Ticker:</strong> {ticker}\n          </p>\n          <p>\n            <strong>SIC Description:</strong> {sic_description}\n          </p>\n        </div>\n        <div className='stock-address'>\n          <h4>Address</h4>\n          <p>{address1}</p>\n          <p>\n            {city}, {state} {postal_code}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StockDetails;\n","// src/pages/PortfolioPage.js\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPortfolio } from '../../features/portfolio/portfolioSlice';\nimport Portfolio from '../../components/Portfolio/Portfolio';\nimport StockDetails from '../../components/StockDetails/StockDetails';\n\nconst PortfolioPage = () => {\n  const dispatch = useDispatch();\n  const testUserId = 'testUserId123'; // Replace with your test user ID\n  const portfolio = useSelector((state) => state.portfolio.portfolio);\n  const status = useSelector((state) => state.portfolio.status);\n  const error = useSelector((state) => state.portfolio.error);\n\n  useEffect(() => {\n    if (status === 'idle') {\n      dispatch(fetchPortfolio(testUserId));\n    }\n  }, [status, dispatch, testUserId]);\n\n  if (status === 'loading') {\n    return <div>Loading...</div>;\n  }\n\n  if (status === 'failed') {\n    return <div>Error: {error}</div>;\n  }\n\n  // Ensure portfolio is not undefined or null before rendering\n  if (!portfolio || !portfolio.stocks) {\n    return <div>No portfolio data available</div>;\n  }\n\n  return (\n    <div className='container mt-4'>\n      <h2 className='mb-4'>Stock Portfolio</h2>\n      <Portfolio portfolio={portfolio} />\n      <div className='mt-4'>\n        <h3>Stock Details</h3>\n        <StockDetails symbol={portfolio.stocks[0].symbol} />{' '}\n        {/* Example usage */}\n      </div>\n      <p>Built with Express.js, MongoDB, GraphQL, Apollo Server</p>\n    </div>\n  );\n};\n\nexport default PortfolioPage;\n","// format.js\n\n// Function to format a numeric value as a currency string\nexport const formatCurrency = (value) => {\n  // Return an empty string if the value is null or undefined\n  if (!value) return '';\n\n  // Convert the value to a string and remove any non-numeric characters except for periods\n  value = value.toString().replace(/[^0-9.]/g, '');\n\n  // Split the value into integer and decimal parts\n  const parts = value.split('.');\n\n  // Add commas to the integer part of the number for better readability\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n  // Join the integer and decimal parts back together and prepend a dollar sign\n  return `$${parts.join('.')}`;\n};\n\n// Function to parse a currency string back into a numeric value\nexport const parseCurrency = (value) => {\n  // Return 0 if the value is null or undefined\n  if (!value) return 0;\n\n  // Remove any non-numeric characters except for periods and convert the result to a float\n  return parseFloat(value.replace(/[^0-9.]/g, '')) || 0;\n};\n\n// Function to format a numeric value with commas as thousand separators\nexport const formatNumberWithCommas = (value) => {\n  // Return an empty string if the value is null or undefined\n  if (!value) return '';\n\n  // Convert the value to a string and add commas as thousand separators\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\n"],"names":["selectStockError","state","stocks","error","selectStockDetails","symbol","stockDetails","_ref","userId","dispatch","useDispatch","portfolio","useSelector","status","useEffect","fetchPortfolio","forEach","stock","fetchStockDetails","_jsx","children","_jsxs","className","scope","map","index","_details$branding","details","shares","buyPrice","toFixed","currentPrice","branding","logo_url","src","alt","name","style","width","totalValue","loading","description","icon_url","market_cap","phone_number","total_employees","locale","primary_exchange","ticker","sic_description","address1","city","postal_code","formatCurrency","PortfolioPage","testUserId","Portfolio","StockDetails","value","parts","toString","replace","split","join","parseCurrency","parseFloat","formatNumberWithCommas"],"sourceRoot":""}